/* Oculta el cursor nativo cuando la nave está activa */
.cursor-none {
    cursor: none !important;
}

/* Contenedor de la nave */
.ship-cursor {
    position: fixed;
    left: 0;
    top: 0;
    width: 48px;
    height: 48px;
    pointer-events: none;
    z-index: 50;
    color: #19C8FF;
    filter: drop-shadow(0 0 10px rgba(25, 200, 255, .45));
    transform-origin: 24px 24px;
    will-change: transform;
    backface-visibility: hidden;
    transform-style: preserve-3d;
    contain: layout paint;
}

/* === Estela circular grande bajo la flecha === */
.ship-cursor .ship-downwash {
    --wash-scale: var(--wash-scale, 1);
    --wash-alpha: var(--wash-alpha, .30);

    position: absolute;
    left: 50%;
    top: 50%;
    width: 260px;
    /* ajusta tamaño si la quieres más grande */
    height: 260px;
    transform: translate(-50%, -50%) scale(var(--wash-scale));
    pointer-events: none;
    z-index: -1;

    opacity: var(--wash-alpha);
    mix-blend-mode: screen;
    filter: blur(26px) saturate(115%);

    background:
        radial-gradient(circle,
            rgba(170, 245, 255, .85) 0%,
            rgba(90, 220, 255, .45) 38%,
            rgba(24, 200, 255, .18) 62%,
            rgba(24, 200, 255, 0) 85%);
}

/* Núcleo circular brillante (opcional, encima de la flecha) */
.ship-core {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 78px;
    height: 78px;
    transform: translate(-50%, -50%);
    pointer-events: none;
    mix-blend-mode: screen;
    filter: blur(12px) saturate(120%);
    border-radius: 999px;
    background:
        radial-gradient(circle,
            rgba(170, 245, 255, .95) 0%,
            rgba(70, 220, 255, .65) 32%,
            rgba(24, 200, 255, .28) 58%,
            rgba(24, 200, 255, 0) 85%);
}

/* Estela global (puntos reusables) */
.ship-trail {
    position: fixed;
    inset: 0;
    z-index: 49;
    pointer-events: none;
}

.trail-dot {
    position: absolute;
    left: 0;
    top: 0;
    transform: translate(-50%, -50%);
    mix-blend-mode: screen;
    border-radius: 999px;
    filter: blur(12px) saturate(115%);
    background:
        radial-gradient(circle,
            rgba(155, 235, 255, .85) 0%,
            rgba(60, 210, 255, .42) 50%,
            rgba(24, 200, 255, 0) 85%);
}

/* SVGs */
.ship-fly,
.ship-land {
    transform-origin: 50% 55%;
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* (tu grid decorativa, igual) */
:root {
    --px: 50vw;
    --py: 50vh;
    --mx: .5;
    --my: .5;
    --dent-size-x: 220px;
    --dent-size-y: 170px;
    --dent-scale: .88;
    --dent-shadow: .58;
    --dent-halo: .12;
}

.grid-dent {
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    background-image:
        linear-gradient(rgba(255, 255, 255, .09) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, .09) 1px, transparent 1px);
    background-size: 24px 24px;
    transform-origin: var(--px) var(--py);
    transform: translate3d(calc((var(--mx)-.5)*12px), calc((var(--my)-.5)*12px), 0) scale(var(--dent-scale));
    will-change: transform, mask-image;
    mask-image: radial-gradient(ellipse var(--dent-size-x) var(--dent-size-y) at var(--px) var(--py),
            rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 55%, rgba(0, 0, 0, 0) 88%);
    mask-repeat: no-repeat;
    mask-mode: luminance;
    filter: drop-shadow(0 0 18px rgba(25, 200, 255, .08));
}

.bg-tech::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    background:
        radial-gradient(ellipse calc(var(--dent-size-x)*.95) calc(var(--dent-size-y)*.95) at var(--px) var(--py),
            rgba(0, 0, 0, var(--dent-shadow)), transparent 70%),
        radial-gradient(ellipse calc(var(--dent-size-x)*1.35) calc(var(--dent-size-y)*1.3) at var(--px) var(--py),
            rgba(25, 200, 255, var(--dent-halo)), transparent 75%);
    mix-blend-mode: soft-light;
}

/* 1) Deja que el brillo pueda pintar fuera del 48×48 */
.ship-cursor {
    contain: layout;
    /* antes: layout paint  -> quita el paint */
    overflow: visible;
    /* por si el navegador es conservador */
}

/* 2) Halo/estela circular grande y centrada bajo la flecha */
.ship-cursor .ship-downwash {
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    width: 180px !important;
    /* ajusta 260–360px a gusto */
    height: 150px !important;
    transform: translate(-50%, -50%) !important;
    pointer-events: none;
    z-index: -1;

    /* aspecto de luz redonda */
    border-radius: 9999px !important;
    opacity: .35 !important;
    mix-blend-mode: screen;
    filter: blur(30px) saturate(115%) !important;

    /* halo suave, sin bordes cuadrados */
    background:
        radial-gradient(circle,
            rgba(170, 245, 255, .85) 0%,
            rgba(90, 220, 255, .45) 38%,
            rgba(24, 200, 255, .18) 62%,
            rgba(24, 200, 255, 0) 85%) !important;

    /* cancela cualquier offset/rotación antiguos basados en variables */
    rotate: 0deg !important;
    translate: 0 0 !important;
}